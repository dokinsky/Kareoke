<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimized Golf Bag Manager</title>
    <style>
        body { font-family: -apple-system, sans-serif; background: #f0f2f5; padding: 20px; color: #333; }
        .container { max-width: 1000px; margin: auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        h2 { color: #1b5e20; margin-top: 0; }
        
        .header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }
        .golfer-input {
            padding: 10px;
            font-size: 1rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 250px;
            font-weight: bold;
        }

        table { width: 100%; border-collapse: collapse; margin-top: 10px; background: #fff; }
        th, td { border: 1px solid #e0e0e0; padding: 12px; text-align: left; }
        th { background: #f8f9fa; font-weight: 600; color: #666; font-size: 0.85rem; text-transform: uppercase; }
        input[type="text"], input[type="number"] { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        input:focus { border-color: #2e7d32; outline: none; box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.1); }
        
        .controls { margin-top: 20px; display: flex; justify-content: space-between; align-items: center; }
        .btn { padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: all 0.2s; }
        .add-btn { background: #e8f5e9; color: #2e7d32; border: 1px solid #2e7d32; }
        .copy-btn { background: #2e7d32; color: white; min-width: 180px; }
        .remove-btn { background: #ffebee; color: #c62828; border: 1px solid #c62828; padding: 6px 10px; }
        .btn:hover { opacity: 0.8; }
    </style>
</head>
<body>

<div class="container">
    <h2>â›³ Bag Manager (Minimized Output)</h2>

    <div class="header-controls">
        <label for="golferName"><strong>Golfer Name:</strong></label>
        <input type="text" id="golferName" class="golfer-input" value="Dave" placeholder="Enter name...">
    </div>
    
    <table id="clubTable">
        <thead>
            <tr>
                <th>Club Name</th>
                <th>Max Distance</th>
                <th>Loft (Â°)</th>
                <th>Slope Factor</th>
                <th style="text-align:center">Tee Only</th>
                <th></th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>

    <div class="controls">
        <button class="btn add-btn" onclick="addRow()">+ Add New Club</button>
        <button id="copyBtn" class="btn copy-btn" onclick="copyToClipboard()">ðŸ“‹ Copy Minimized JSON</button>
    </div>
</div>

<script>
    const initialData = [
        { "Name": "Lob Wedge", "MaxDistance": 95, "Loft": 58, "SlopeFactor": 0.10, "TeeOnly": false },
        { "Name": "Sand Wedge", "MaxDistance": 105, "Loft": 54, "SlopeFactor": 0.11, "TeeOnly": false },
        { "Name": "Gap Wedge", "MaxDistance": 115, "Loft": 48, "SlopeFactor": 0.12, "TeeOnly": false },
        { "Name": "Pitching Wedge", "MaxDistance": 125, "Loft": 43, "SlopeFactor": 0.13, "TeeOnly": false },
        { "Name": "9 Iron", "MaxDistance": 140, "Loft": 38, "SlopeFactor": 0.14, "TeeOnly": false },
        { "Name": "8 Iron", "MaxDistance": 150, "Loft": 34, "SlopeFactor": 0.15, "TeeOnly": false },
        { "Name": "7 Iron", "MaxDistance": 160, "Loft": 30, "SlopeFactor": 0.16, "TeeOnly": false },
        { "Name": "6 Iron", "MaxDistance": 170, "Loft": 27, "SlopeFactor": 0.17, "TeeOnly": false },
        { "Name": "5 Iron", "MaxDistance": 180, "Loft": 24, "SlopeFactor": 0.18, "TeeOnly": false },
        { "Name": "4 Hybrid", "MaxDistance": 195, "Loft": 38, "SlopeFactor": 0.19, "TeeOnly": false },
        { "Name": "3 Wood", "MaxDistance": 210, "Loft": 38, "SlopeFactor": 0.21, "TeeOnly": false },
        { "Name": "Driver", "MaxDistance": 250, "Loft": 38, "SlopeFactor": 0.22, "TeeOnly": false }
    ];

    function addRow(data = { Name: "", MaxDistance: 0, Loft: 0, SlopeFactor: 0, TeeOnly: false }) {
        const tbody = document.getElementById('tableBody');
        const row = document.createElement('tr');
        row.innerHTML = `
            <td><input type="text" class="clubName" value="${data.Name}"></td>
            <td><input type="number" class="maxDist" value="${data.MaxDistance}"></td>
            <td><input type="number" class="loft" value="${data.Loft}"></td>
            <td><input type="number" step="0.01" class="slope" value="${data.SlopeFactor}"></td>
            <td style="text-align:center"><input type="checkbox" class="teeOnly" ${data.TeeOnly ? 'checked' : ''}></td>
            <td style="text-align:center"><button class="btn remove-btn" onclick="this.parentElement.parentElement.remove()">Remove</button></td>
        `;
        tbody.appendChild(row);
    }

    initialData.forEach(club => addRow(club));

    async function copyToClipboard() {
        const userName = document.getElementById('golferName').value || "Unnamed Golfer";
        const rows = document.querySelectorAll('#tableBody tr');
        const bag = [];

        rows.forEach(row => {
            bag.push({
                Name: row.querySelector('.clubName').value,
                MaxDistance: parseInt(row.querySelector('.maxDist').value) || 0,
                Loft: parseInt(row.querySelector('.loft').value) || 0,
                SlopeFactor: parseFloat(row.querySelector('.slope').value) || 0,
                TeeOnly: row.querySelector('.teeOnly').checked
            });
        });

        const finalData = [{ "Name": userName, "Bag": bag }];
        
        // Minification happens here: JSON.stringify with no extra arguments
        const minifiedJson = JSON.stringify(finalData);

        try {
            await navigator.clipboard.writeText(minifiedJson);
            
            const btn = document.getElementById('copyBtn');
            const originalText = btn.innerText;
            btn.innerText = "âœ… Minified JSON Copied!";
            btn.style.background = "#43a047";
            
            setTimeout(() => {
                btn.innerText = originalText;
                btn.style.background = "#2e7d32";
            }, 2000);
        } catch (err) {
            alert("Clipboard access denied.");
        }
    }
</script>

</body>
</html>
