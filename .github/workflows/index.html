<html><head><title></title><style>.allTags{text-align:center;cursor:pointer;font-size:40px}.selectedTag{background-color:#5d2}.singing{background-color:"#37D"}.singer{cursor:pointer;font-size:65px;text-align:center}.selectedSinger{background-color:#5d2}.name{font-size:55px;font-weight:700;border:1px solid #000;border-radius:5px}.selectName{font-size:45px;font-weight:700;border:1px solid #000;border-radius:5px}.songRow{border:2px solid #000;border-radius:5px;font-size:40px;cursor:pointer}.tag{border:1px solid #000;background-color:#ccc;font-size:55px}.selectedTag{background-color:#5d2}.artist{font-size:45px}.easy{background-color:#8f8}.medium{background-color:#ff8}.hard{background-color:#f88}</style><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script></head><body><div class="container-lg" id="mainContainer" style="margin-top:20px"><div class="row"><div class="col-3" id="AllSingers"></div><div class="col-9" id="AllTags" style="overflow-y:auto;max-height:1500px"></div></div><div class="row"><div class="col"><button id="GetSongs" style="font-size:70px;text-align:center;width:100%;height:200px">Get Random Songs</button></div></div></div><div class="container-lg text-center" id="ListContainer"></div></body></html><script>let tagList=[],singerList=[],songButton=document.getElementById("GetSongs");function BuildSongList(e){console.log(e);let t=document.getElementById("ListContainer");e.forEach(e=>{console.log(e);let s=document.createElement("div");s.classList.add("row"),s.classList.add("name");let i=document.createElement("div");i.classList.add("col"),i.innerText=e.name,s.appendChild(i),t.appendChild(s),e.songs.forEach(s=>{let i=document.createElement("div");i.classList.add("row"),i.id=s.id,i.classList.add("songRow"),1==s.difficulty?i.classList.add("easy"):2==s.difficulty?i.classList.add("medium"):i.classList.add("hard");let a=document.createElement("div");a.classList.add("col"),a.innerText=s.title;let n=document.createElement("div");n.classList.add("col"),n.classList.add("artist"),n.innerText=s.artist;let d=document.createElement("div");d.classList.add("col"),d.innerText=s.year,i.appendChild(n),i.appendChild(a),i.appendChild(d),i.addEventListener("click",t=>{console.log(s.id),console.log(e.name)}),t.appendChild(i)})})}function BuildTags(e){let t=document.getElementById("AllTags"),s=document.createElement("div");s.classList.add("row"),e.forEach(e=>{let t=document.createElement("div");t.classList.add("col"),t.classList.add("tag"),t.innerText=e.tagName,t.id=e.id,t.on=!1,t.addEventListener("click",s=>{if(t.on){t.classList.remove("selectedTag"),t.on=!1;let i=tagList.indexOf(e.tagName);-1!==i&&tagList.splice(i,1)}else t.classList.add("selectedTag"),t.on=!0,tagList.push(e.tagName);console.log(tagList)}),s.appendChild(t)}),t.appendChild(s)}function BuildSingers(e){let t=document.getElementById("AllSingers"),s=document.createElement("div");s.classList.add("row"),e.forEach(e=>{let t=document.createElement("div");t.classList.add("col"),t.classList.add("selectName"),t.id=e.id,t.innerText=e.singerName,t.on=!1,s.appendChild(t),t.addEventListener("click",s=>{if(t.on){t.classList.remove("selectedSinger"),t.on=!1;let i=singerList.indexOf(e.singerName);-1!==i&&singerList.splice(i,1)}else t.classList.add("selectedSinger"),t.on=!0,singerList.push(e.singerName);console.log(singerList)})}),t.appendChild(s)}async function postData(e,t){return await (await fetch(e,{method:"POST",headers:{Accept:"application/jon","Content-Type":"application/json"},body:JSON.stringify(t)}).catch(e=>{console.log(e)})).json()}async function getData(e){return await (await fetch(e,{method:"GET"}).catch(e=>{console.log(e)})).json()}songButton.addEventListener("click",e=>{document.getElementById("ListContainer").innerHTML="",tagList.length>0&&singerList.length>0&&postData("https://kareokeapi20241002141209.azurewebsites.net/InclusiveSongList",{tags:tagList,singers:singerList,songCount:5}).then(e=>{BuildSongList(e)})}),getData("https://kareokeapi20241002141209.azurewebsites.net/Singers").then(e=>{BuildSingers(e)}),getData("https://kareokeapi20241002141209.azurewebsites.net/Tags").then(e=>{BuildTags(e)});</script>
